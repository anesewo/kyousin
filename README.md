# 強震モニタ+

## 概要
**強震モニタ+** は、リアルタイムで現在の揺れや緊急地震速報（EEW）の情報を受信・表示するブラウザアプリケーションです。  
データの受信と更新は全自動で行われますが、一部の機能は手動操作が必要な場合があります。  
地図は自由に拡大・縮小・移動が可能です。

---

## 主な機能

### リアルタイム震度
- NIED（防災科研）が公開している**強震モニタのリアルタイム震度**を自動で表示します。  
- 受信したデータは**自動揺れ検出機能**に使用されます（※気象庁の緊急地震速報とは異なります）。  
- アルゴリズムによる揺れ検出が行われた場合、着未着法を含む走時計算などの反復処理によって震源を推定します。  
  推定には **JMA2001走時表** を使用し、計算結果から現在の **P波・S波到達予報円** を地図上に表示します。  
- **揺れ検出**・**自動震源推定**は設定で無効化することができます（計算負荷や誤検知を避けるため）。

---

### S-netの震度
- 三陸沖・茨城県沖などの海域や日本海溝外側に設置された **S-net** のリアルタイム震度を表示します。  
- 更新は約3分ごとに行われます。揺れ検出や震源推定には使用しません。  
- 海底設置型センサーには固定されていないものもあり、震度が実際より大きく表示されることがあります。

---

### 緊急地震速報（EEW）
- 気象庁から数秒で発表される **緊急地震速報（予報・警報）** を受信し、地図上に震央・到達予報円・震源要素を表示します。  
- UI上では、**震源地・マグニチュード・深さ・推定最大震度** が自動表示されます。  
- 緊急地震速報（警報）が発表された場合は、**発表地域を自動音声で読み上げ**ます。  
  発表地域が10を超える場合、自動的に**地方予報区単位**の読み上げに切り替わります。

---

## 揺れ検出・震源推定について
リアルタイム震度データから二点以上の色の変化を読み取り、地震を自動で即座に検知します。  
独自の揺れ検知アルゴリズムを用いて震源を推定しますが、**誤検知**が発生する場合があります。  
また、震源推定を有効にしている場合、誤検知による誤推定が行われることもあります。

---

## 緊急地震速報の取得元

安定性を高めるため、複数の情報源からEEWを取得しています。

| ソース | 方式 | 遅延 | 特徴・注意点 |
|--------|------|------|---------------|
| [wolfxAPI](https://wolfx.jp/apidoc) | WebSocket + HTTP GET | 少 | 自動的にスピードが速いwebsocet接続とWSのプッシュを何らかの原因で見逃しても受信できるHTTPGETの両方で接続し情報を受信しています。 受信遅延は少ないですが稀に緊急地震速報が発表されない場合があります。 |
| [Yahoo!リアルタイム震度](https://typhoon.yahoo.co.jp/weather/jp/earthquake/kyoshin/) | HTTP GET | 中 | 安安定度が高いYahooリアルタイム震度の緊急地震速報データを抽出して表示しています。HTTPGETのみのため遅延は数秒あります。 |
| [AXIS（無料登録必須）](https://axis.prioris.jp/manage/channel/) | WebSocket | 少 | 無料のアカウント作成・登録を行いチャンネルEEWの受信を有効にし、ソフト内でユーザートークンを入力することでAXISからのEEW情報が受信できます。 受信遅延は少なく、安定性も高いです。ただしAXISの規約内に「再配信、転載、複製、改変、商用利用は禁止」とあるので必ずライブ配信やTwitter上への投稿等を行う場合ソフト内の「AXISとの接続を切断する」を使用してください。 |

> ※ 上記以外の緊急地震速報サービスも、発見次第順次追加予定です。

---

## 配信や動画への使用について
このアプリケーションの表示画面は、**配信や動画等で自由に使用可能**です。  
特別な許可を取る必要はありません。

> [!WARNING]
> ただし、動作の安定性・信頼性は一切保証できません。  
> 利用者の自己責任でご使用ください。

---

## 開発背景
このプロジェクトには前身バージョンが存在します。  
開発開始から約半年を経て、**軽量化**と**機能向上**を目的に本バージョンを新たに作成しました。
